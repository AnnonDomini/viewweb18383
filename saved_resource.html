
<!-- saved from url=(0012)about:srcdoc -->
<html class="" style="height: 100%; width: 100%; overflow: hidden"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style class="vjs-styles-defaults">
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    </style><style class="vjs-styles-dimensions">
                .amp-player-dimensions {
                        width: 1280px;
                        height: 503px;
                    }

                .amp-player-dimensions.vjs-fluid {
                        padding-top: 56.25%;
                    }
            </style><link href="https://statics.teams.cdn.office.net/evergreen-assets/broadcast/player-skin.min.css?v=2" rel="stylesheet"><link href="https://statics.teams.cdn.office.net/evergreen-assets/broadcast/video-player.css?v=2" rel="stylesheet"><script src="https://statics.teams.cdn.office.net/hashed/azuremediaplayer.min-d46c9f4.js"></script><script src="https://statics.teams.cdn.office.net/evergreen-assets/broadcast/player-skin.min.js"></script><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><style data-load-themed-styles="true"></style><script bis_use="true" type="text/javascript" charset="utf-8" data-bis-config="[&quot;facebook.com/&quot;,&quot;twitter.com/&quot;,&quot;youtube-nocookie.com/embed/&quot;,&quot;//vk.com/&quot;,&quot;//www.vk.com/&quot;,&quot;//linkedin.com/&quot;,&quot;//www.linkedin.com/&quot;,&quot;//instagram.com/&quot;,&quot;//www.instagram.com/&quot;,&quot;//www.google.com/recaptcha/api2/&quot;,&quot;//hangouts.google.com/webchat/&quot;,&quot;//www.google.com/calendar/&quot;,&quot;//www.google.com/maps/embed&quot;,&quot;spotify.com/&quot;,&quot;soundcloud.com/&quot;,&quot;//player.vimeo.com/&quot;,&quot;//disqus.com/&quot;,&quot;//tgwidget.com/&quot;,&quot;//js.driftt.com/&quot;,&quot;friends2follow.com&quot;,&quot;/widget&quot;,&quot;login&quot;,&quot;//video.bigmir.net/&quot;,&quot;blogger.com&quot;,&quot;//smartlock.google.com/&quot;,&quot;//keep.google.com/&quot;,&quot;/web.tolstoycomments.com/&quot;,&quot;moz-extension://&quot;,&quot;chrome-extension://&quot;,&quot;/auth/&quot;,&quot;//analytics.google.com/&quot;,&quot;adclarity.com&quot;,&quot;paddle.com/checkout&quot;,&quot;hcaptcha.com&quot;,&quot;recaptcha.net&quot;,&quot;2captcha.com&quot;,&quot;accounts.google.com&quot;,&quot;www.google.com/shopping/customerreviews&quot;,&quot;buy.tinypass.com&quot;,&quot;gstatic.com&quot;,&quot;secureir.ebaystatic.com&quot;,&quot;docs.google.com&quot;,&quot;contacts.google.com&quot;,&quot;github.com&quot;,&quot;mail.google.com&quot;,&quot;chat.google.com&quot;,&quot;audio.xpleer.com&quot;]" src="chrome-extension://almalgbpmcfpdaopimbdchdliminoign/executers/vi-tr.js"></script></head>
            <body class="" style="height: 100%; width: 100%; margin: 0px" data-new-gr-c-s-loaded="14.1136.0" bis_status="ok" bis_frame_id="446">
                <script> (function l(){var e=r(),t=i(),n=new e,o=new t(n,document.body);n.registerObserver(o)})();function n(){var e,n=s(),i=c();return function(e){e.CaptionFunctionalityNotSupported="CaptionFunctionalityNotSupported"}(e||(e={})),function(){function r(e,t){this.container=e,this.eventsHandler=t,this.videoElementEvents=[],this.playerEvents=[],this.maxMemoryTraceLogCount=1e4,this.videoSourceType="application/dash+xml",this.sdnPluginLoaded=!1,this.statsTimer=-1,this.statsInterval=1e3,this.videoSourceSetAttemptCount=0,this.totalBufferingTime=0,this.isBuffering=!1,this.totalPlayingTime=0,this.isPlaying=!1,this.videoTrackTotalDurations=[]}return Object.defineProperty(r.prototype,"contextWindow",{get:function(){return this.container.ownerDocument.defaultView},enumerable:!1,configurable:!0}),r.prototype.configure=function(e,t,n){this.liveStreamOptions=e,this.playerId=n,t&&(this.configProvider=t,this.statsInterval=t.config.playerTelemetryTickMs||this.statsInterval,this.maxMemoryTraceLogCount=t.config.maxPlayerMemoryTraceLogCount||this.maxMemoryTraceLogCount)},r.prototype.getIceCandidates=function(){var e,t=[];try{var n=this.liveStreamOptions.stream.sdnContext||(null===(e=this.liveStreamOptions.altStream)||void 0===e?void 0:e.sdnContext)||"",i=JSON.parse(n),r=JSON.parse(i.sdnConfig);if(!r.RTCIceCandidates)throw new Error("RTCIceCandidates not present in SDN Context");t=r.RTCIceCandidates}catch(e){this.log("getIceCandidates failed: ".concat(JSON.stringify(e.message)),"error")}return this.log("getIceCandidates: ".concat(JSON.stringify(t)),"debug"),t},r.prototype.loadPlayerScript=function(){for(var e=this,t=Promise.resolve(""),n=this.configProvider.playerConfig.nonce,i=this.configProvider.playerConfig.css,r=function(r){t=t.then((function(){return e.retry((function(){return e.loadCss(e.container.ownerDocument,i[r],n)}))}))},o=0;o<i.length;o++)r(o);return t=t.then((function(){return e.loadAmpScript()}))},r.prototype.loadAmpScript=function(){var e,t,n=this;this.log("loadPlayerScript started");var i=Promise.resolve(""),r=null===(e=this.configProvider.playerConfig)||void 0===e?void 0:e.nonce,o=(null===(t=this.configProvider.playerConfig)||void 0===t?void 0:t.src)||[],a=Math.max(2,this.configProvider.config.maxRetryCountForLoadingResources);if(0===o.length)return Promise.reject("AMP Player Src is empty");for(var s=function(e){i=i.then((function(){return n.loadScriptPromise(o,e,r,a)}))},c=0;c<o.length;++c)s(c);return i},r.prototype.loadScriptPromise=function(e,t,n,i,r){var o=this;return void 0===r&&(r=""),this.retry((function(){return o.setScriptByLoad(o.container.ownerDocument,e[t],n)}),i).then((function(n){return"".concat(e[t],": ").concat(n," ").concat(r)})).catch((function(a){return o.retry((function(){return o.setScriptByBlob(o.container.ownerDocument,e[t],n)}),i).then((function(n){return"".concat(e[t],": ").concat(n).concat(" ".concat(a," ")," ".concat(r," "))})).catch((function(s){return o.retry((function(){return o.setScriptByInnerHtml(o.container.ownerDocument,e[t],n)}),1).then((function(n){return"".concat(e[t],": ").concat(n).concat(" ".concat(a," "),"".concat(s," ")," ".concat(r," "))})).catch((function(o){var a=r;return t<e.length&&(a=(a=a.concat("Failed to load script, nonce: ".concat(n,", src: ").concat(e[t]," index: ").concat(t," "))).concat("".concat(i," attempts LoadFailure "),"".concat(i," attempts BlobFetchFailure: "),s,", 1 attempt InnerHtmlFailure: ","".concat(o," "))),Promise.reject(a)}))}))}))},r.prototype.retry=function(e,t,n,i){var r=this;return void 0===t&&(t=this.configProvider.config.maxRetryCountForLoadingResources),void 0===n&&(n=1),void 0===i&&(i=200),e(t).then((function(e){return"".concat(e,", succeeded on load number: ").concat(n," ")})).catch((function(o){return r.log("Error loading resource: ".concat(o," -- ").concat(t," retriesLeft")),0==--t?Promise.reject("".concat(o)):new Promise((function(a){return setTimeout((function(){return a(r.retry(e,t,n+1).then((function(e){return"string"==typeof e?"".concat(e,", succeeded on load number: ").concat(n):e})).catch((function(e){return Promise.reject("".concat(o).concat(", ",e))})))}),i)}))}))},r.prototype.setScriptByLoad=function(e,t,n){var i=e.createElement("script"),r=this.getElementLoadPromise(i,t);return i.src=t,n&&(i.nonce=n),e.head.appendChild(i),r.then((function(){return Promise.resolve("Success: setScriptByLoad")}))},r.prototype.setScriptByBlob=function(e,t,n){var i=this;return this.safeResponse(t).then((function(t){return t.blob().then((function(r){if(r){var o=URL.createObjectURL(r);return i.setScriptByLoad(e,o,n).then((function(){return Promise.resolve("Success: setScriptByBlob")}))}return Promise.reject("".concat(t.status,", blob is null"))}))}))},r.prototype.setScriptByInnerHtml=function(e,t,n){var i=this;return this.safeResponse(t).then((function(t){return t.text().then((function(r){if(r){var o=document.createElement("script");return o.innerHTML=r,n&&!i.configProvider.config.hlsSettings.skipNonce&&(o.nonce=n),e.head.appendChild(o),Promise.resolve("Success: setScriptByInnerHtml")}return Promise.reject("status code:".concat(t.status,", text is null"))}))}))},r.prototype.safeResponse=function(e){return fetch(e).then((function(e){return e.ok?e:Promise.reject("".concat(e.status))}))},r.prototype.tryLoadSdnPlugin=function(){var e=this;return this.sdnPluginLoaded||!this.liveStreamOptions.sdn?Promise.resolve():this.configProvider.config.allowSdnPlugins?(this.log("tryLoadSdnPlugin started"),this.retry((function(){return e.setScriptByLoad(e.container.ownerDocument,e.liveStreamOptions.sdn.url,e.configProvider.playerConfig.nonce)})).then((function(){e.log("SDN script loaded"),e.sdnPluginLoaded=!0,e.log("tryLoadSdnPlugin done")}))):(this.log("Loading SDN plugins is not allowed"),Promise.reject("Loading SDN plugins is not allowed"))},r.prototype.createAmp=function(){var e;this.log("createAmp started"),this.createVideoElement();var r=this.getAmpOptions();if(this.playerInstance=this.contextWindow.amp(this.video.id,r),!this.playerInstance)throw this.log("createAmp failed","error"),new Error("playerInstance is null");"html5"===(null===(e=this.playerInstance.currentTechName())||void 0===e?void 0:e.toLowerCase())&&this.configProvider.config.ampSettings.estimateAbsoluteTime&&this.isControlsDisabled()?(this.absoluteTimeOffsetEstimator=new t.HlsAbsoluteTimeOffsetEstimator(this.log.bind(this)),this.diagnosticProvider=new n(this.playerInstance,this.contextWindow,new Date,this.configProvider,this.absoluteTimeOffsetEstimator),this.absoluteTimeOffsetEstimator.setEstimationResultCallback(this.onAbsoluteTimeOffsetEstimation.bind(this))):this.diagnosticProvider=new n(this.playerInstance,this.contextWindow,new Date,this.configProvider);var o={controlsEnabled:!this.isControlsDisabled(),logFn:this.log.bind(this),removeEmptyDefaultTextTrack:this.configProvider.config.removeEmptyDefaultTextTrack};this.diagnosticProvider.setValue("streamingEventType",this.liveStreamOptions.streamingEventType),this.diagnosticProvider.setValue("playerControlsEnabled",!this.isControlsDisabled()),this.captionsControl=new i(this.playerInstance,this,o,this.diagnosticProvider),this.registerPlayerEvents(),this.log("createAmp done")},r.prototype.isControlsDisabled=function(){return void 0!==this.liveStreamOptions.allowPlayerControls?!this.liveStreamOptions.allowPlayerControls:"Overflow"===this.liveStreamOptions.streamingEventType||"TownHall_Basic"===this.liveStreamOptions.streamingEventType||"TownHall_Premium"===this.liveStreamOptions.streamingEventType||"TownHall"===this.liveStreamOptions.streamingEventType},r.prototype.onAbsoluteTimeOffsetEstimation=function(t){if(this.diagnosticProvider.appendAbsoluteTimeOffsetEstimation(t),!t.isSuccess){var n=this.addEvent(e.CaptionFunctionalityNotSupported,{detail:{data:{fatal:!0,details:"absolute time offset estimation failed - captions will fail"}}});this.video.dispatchEvent(n)}},r.prototype.addEvent=function(e,t){var n={};return(null==t?void 0:t.detail)&&(n={detail:t.detail}),new CustomEvent(e,n)},r.prototype.setSource=function(e){if(this.log("setSource started"),!this.playerInstance)throw this.log("setSource failed: playerInstance is null","error"),new Error("playerInstance is null");this.videoSourceSetAttemptCount++,this.videoSourceSetAttemptCount>0&&this.diagnosticProvider.setValue("retryCount",this.videoSourceSetAttemptCount-1);var t={src:e.url,type:this.videoSourceType,protectionInfo:e.decryptionToken?[{type:"AES",authenticationToken:e.decryptionToken}]:null};this.configureSdnSource(t,e),this.diagnosticProvider.setValue("streamUrl",e.url),this.diagnosticProvider.setValue("streamId",this.getStreamIdFromStreamUrl(e.url)),this.diagnosticProvider.setValue("streamDeliveryPipeline",e.streamDeliveryPipeline||""),this.playerInstance.src([t],this.getTextTracks()),this.absoluteTimeOffsetEstimator&&this.absoluteTimeOffsetEstimator.setManifestFileURL(e.url+"(format=m3u8-aapl-v4)"),this.log("setSource done")},r.prototype.getStreamIdFromStreamUrl=function(e){try{var t=new URL(e).pathname;if(t){var n=t.split("/");if((null==n?void 0:n.length)>1)return n[1]}return this.log("unable to parse stream ID from stream URL: ".concat(e),"warn"),""}catch(t){return this.log("cannot parse stream ID from invalid stream URL: ".concat(e),"warn"),""}},r.prototype.setPlayTime=function(e){e&&(this.log("setPlayerTime: ".concat(e)),this.playerInstance.currentTime(e))},r.prototype.dispose=function(){this.log("dispose started"),this.diagnosticProvider&&(this.stopStatsCollection(),this.diagnosticProvider.dispose(),this.diagnosticProvider=null),this.captionsControl&&(this.captionsControl.dispose(),this.captionsControl=null),this.playerInstance&&(this.removePlayerEventListeners(),this.playerInstance.getMemoryLog(!0),this.playerInstance.dispose(),this.playerInstance=null),this.eventsHandler.ampDisposed(),this.video&&(this.removeVideoEventListeners(),this.video.parentNode&&this.video.parentNode.removeChild(this.video),this.video=null),this.absoluteTimeOffsetEstimator&&(this.absoluteTimeOffsetEstimator.stopStreamAbsoluteTimeOffsetRetrieval(),this.absoluteTimeOffsetEstimator=null),this.log("dispose done"),this.eventsHandler=null},r.prototype.updatePlaybackDiagnostics=function(){this.updateTotalPlayingTimeStatistic(),this.updateBufferingRateStatistic(),this.updateVideoTrackHistoryStatistic()},r.prototype.handlePlaybackStopped=function(){this.isBuffering=!1,this.isPlaying=!1,this.currentVideoPlaybackBitrate=null},r.prototype.showCaptions=function(e){this.log("showCaptions: ".concat(e)),this.captionsControl.showCaptions(e)},r.prototype.addCues=function(e){e=e.filter((function(e){return e.text&&0!==e.text.trim().length})),this.captionsControl.addCues(e)},r.prototype.clearCues=function(){this.captionsControl.clearCues()},r.prototype.captionsToggled=function(e,t,n){this.log("captionsToggled: ".concat(e," for culture ").concat(t," at ").concat(n)),this.eventsHandler.message("captionsToggled").send(e,t,n)},r.prototype.createVideoElement=function(){this.log("createVideoElement started"),this.video=this.container.ownerDocument.createElement("video"),this.video.id="amp-player",this.video.setAttribute("playsinline","");var e=this.configProvider.playerConfig.lang;e&&(this.video.setAttribute("lang",e),this.log("createVideoElement: language set to ".concat(e)));for(var t=this.configProvider.playerConfig.styles,n=0;n<t.length;n++)this.video.classList.add(t[n]);this.container.appendChild(this.video),this.log("createVideoElement done")},r.prototype.getAmpOptions=function(){var e,t=[];this.configProvider.config.debug?t.push({target:"memory",maxMemoryTraceCount:this.maxMemoryTraceLogCount}):t.push({target:"console"});var n={TraceTargets:t,maxLogLevel:this.configProvider.config.debug?3:2},i={techOrder:["azureHtml5JS","html5"],nativeControlsForTouch:!1,autoplay:!0,preload:"auto",controls:!this.isControlsDisabled(),logo:{enabled:!1},height:"100%",width:"100%",traceConfig:n,disableFullscreenButton:null===(e=this.configProvider.playerConfig)||void 0===e?void 0:e.disableFullscreenButton,staleDataTimeLimitInSec:30,heuristicProfile:this.contextWindow.amp.Player.HeuristicProfile.HighQuality,customPlayerSettings:{customHeuristicSettings:{bandwidthTestWithTimeThresholdDuringLive:!1,windowSizeHeuristics:this.configProvider.config.ampSettings.useBrowserWindowSizeForBitRate,useBrowserWindowForWindowSizeRule:this.configProvider.config.ampSettings.useBrowserWindowSizeForBitRate,useVariableFragmentSizeMode:!0}},plugins:{}};return this.initializePluginOptions(i),i},r.prototype.isStreamValid=function(e){return e&&!!e.url&&!!e.decryptionToken},r.prototype.initializePluginOptions=function(e){if(this.sdnPluginLoaded&&this.liveStreamOptions.sdn){var t=this.isStreamValid(this.liveStreamOptions.stream)?this.liveStreamOptions.stream:this.liveStreamOptions.altStream;this.log("initializePluginOptions, receivedSDNContext: ".concat(JSON.stringify(null==t?void 0:t.sdnContext)),"info");try{switch(this.liveStreamOptions.sdn.name){case"hive":if(e.plugins={hive:{debugLevel:this.configProvider.config.debug?"debug":"notice",telemetryId:this.playerId}},t&&t.sdnContext)try{if((i=JSON.parse(t.sdnContext)).sdnConfig){var n=JSON.parse(i.sdnConfig);n.candidateTopicName="RequestIceCandidates",delete n.RTCIceCandidates,Object.assign(e.plugins.hive,n)}}catch(e){this.log("initializePluginOptions, failed to parse Hive sdnConfig Json from sdnContext Json, error: ".concat(e),"warn")}break;case"kollective":if(t&&t.sdnContext){var i=null,r=null,o=null;try{i=this.parseJson(t.sdnContext,"kollective sdn context")}catch(e){this.log("initializePluginOptions, failed to parse Kollective sdnContext Json, error: ".concat(e),"error")}if(i){try{r=this.parseJson(i.playbackinfo,"kollective sdn playback info")}catch(e){this.log("initializePluginOptions, failed to parse Kollective sdnContext playbackinfo Json, error: ".concat(e),"error")}try{o=this.parseJson(i.sdnConfig,"kollective sdn config")}catch(e){this.log("initializePluginOptions, failed to parse Kollective sdnContext sdnConfig Json, error: ".concat(e),"error")}}e.plugins={kollectiveSDN:{playbackInfo:r,sdnConfig:o,reportSessionId:this.playerId}}}break;case"ramp":t&&t.sdnContext&&(e.plugins={RampMOPlugin:this.parseJson(t.sdnContext,"ramp sdn context")},this.configProvider.config.debug&&(e.plugins.RampMOPlugin.verbose=!0));break;case"peer5":t.sdnContext&&(e.plugins={peer5:this.parseJson(t.sdnContext,"peer5 sdn context")})}}catch(e){this.log("initializePluginOptions failed, error: ".concat(e.message),"error")}this.log("initializePluginOptions, configured plugin options: ".concat(JSON.stringify(e.plugins)),"info")}},r.prototype.getTextTracks=function(){var e=[];if(this.isControlsDisabled())e.push({id:"amp-player_default",kind:"captions",label:"default-text-track",src:"",srclang:"en"});else if(this.liveStreamOptions.supportedSubtitleLanguages)for(var t=this.liveStreamOptions.supportedSubtitleLanguages,n=0;n<t.length;n++)e.push({id:"amp-player_".concat(t[n].culture),kind:this.configProvider.config.textTrackKind,label:t[n].name||t[n].culture,src:"",srclang:t[n].culture.substr(0,2)});return e},r.prototype.configureSdnSource=function(e,t){if(this.sdnPluginLoaded&&this.liveStreamOptions.sdn){switch(this.liveStreamOptions.sdn.name){case"hive":if(!t.sdnContext){e.sdnList=[];break}try{(n=JSON.parse(t.sdnContext)).playbackinfo&&(e.sdnList=[{sdnName:"hive",sdnUrl:n.playbackinfo}])}catch(n){e.sdnList=[{sdnName:"hive",sdnUrl:t.sdnContext}]}break;case"kollective":if(!t.sdnContext){e.sdnList=[];break}try{var n=this.parseJson(t.sdnContext,"kollective sdn list context"),i=this.parseJson(n.playbackinfo,"kollective sdn list playback info"),r=this.parseJson(n.sdnConfig,"kollective sdn list sdn config");e.sdnList=[{sdnName:"kollectiveSDN",playbackInfo:i,sdnConfig:r}]}catch(t){return e.sdnList=[],void this.log("configureSdnSource failed, error: ".concat(t),"error")}break;case"ramp":case"peer5":e.sdnList=[];break;default:return}this.log("configureSdnSource, configured source context: ".concat(JSON.stringify(e)),"info")}},r.prototype.registerPlayerEvents=function(){var t=this;this.registerPlayerEvent(this.contextWindow.amp.eventName.error,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.error)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.canplaythrough,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.canplaythrough)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.play,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.play)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.playing,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.playing)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.pause,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.pause)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.resume,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.resume)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.start,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.start)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.ended,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.ended)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.seeking,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.seeking)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.seeked,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.seeked)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.loadedmetadata,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.loadedmetadata)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.waiting,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.waiting)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.playbackbitratechanged,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.playbackbitratechanged)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.downloadbitratechanged,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.downloadbitratechanged)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.fullscreenchange,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.fullscreenchange)})),this.registerPlayerEvent("potentialMediaFreeze",(function(){t.onAmpEvent("potentialMediaFreeze")})),this.registerPlayerEvent(this.contextWindow.amp.eventName.mute,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.mute)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.unmute,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.unmute)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.volumechange,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.volumechange)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.loadeddata,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.loadeddata)})),this.registerPlayerEvent(this.contextWindow.amp.eventName.loadstart,(function(){t.onAmpEvent(t.contextWindow.amp.eventName.loadstart)})),Object.values(e).forEach((function(e){t.registerVideoEvent(e,(function(n){t.handleUserExperienceErrorEvent(e,n.detail.data.details,n.detail.data.fatal)}))}))},r.prototype.registerPlayerEvent=function(e,t){this.playerEvents.push(e),this.playerInstance.addEventListener(e,t)},r.prototype.registerVideoEvent=function(e,t){this.videoElementEvents.push({name:e,callback:t}),this.video.addEventListener(e,t)},r.prototype.removePlayerEventListeners=function(){var e=this;this.playerEvents.forEach((function(t){e.playerInstance.removeEventListener(t)}))},r.prototype.removeVideoEventListeners=function(){var e=this;this.videoElementEvents.forEach((function(t){e.video.removeEventListener(t.name,t.callback)}))},r.prototype.onAmpEvent=function(e){var t,n;switch(e){case this.contextWindow.amp.eventName.error:n=this.playerInstance.error(),t={currentTime:this.playerInstance.currentTime(),errorCode:n?n.code:0,message:n?n.message:""};break;case this.contextWindow.amp.eventName.canplaythrough:this.initializeStatsColletion();break;case this.contextWindow.amp.eventName.loadedmetadata:this.captionsControl.initialize(),this.absoluteTimeOffsetEstimator&&this.absoluteTimeOffsetEstimator.restartStreamAbsoluteTimeOffsetRetrieval();break;case this.contextWindow.amp.eventName.fullscreenchange:t={isFullscreen:this.playerInstance.isFullscreen()};break;case this.contextWindow.amp.eventName.playbackbitratechanged:t={bitrate:this.playerInstance.currentPlaybackBitrate()};break;case this.contextWindow.amp.eventName.downloadbitratechanged:t={bitrate:this.playerInstance.currentDownloadBitrate()};break;case this.contextWindow.amp.eventName.seeked:t={captionsTimestamp:this.isControlsDisabled()?this.playerInstance.currentMediaTime():this.playerInstance.currentTime()};break;case this.contextWindow.amp.eventName.volumechange:t={value:this.playerInstance.volume()}}this.updatePlaybackDiagnostics(),this.updatePlayerState(e),this.eventsHandler.message("statsUpdated").send(this.getPlayerDiagnostics()),this.eventsHandler.message("stateChanged").send(e,t)},r.prototype.updatePlayerState=function(e){this.updatePlayingState(e),this.updateBufferingState(e),this.updateCurrentVideoTrackBitrate(e),e!==this.contextWindow.amp.eventName.ended&&e!==this.contextWindow.amp.eventName.error||this.handlePlaybackStopped()},r.prototype.handleUserExperienceErrorEvent=function(e,t,n){var i={currentTime:this.video?this.video.currentTime:0,message:t,type:e,errorCode:0,fatal:n};this.updatePlaybackDiagnostics(),this.eventsHandler.message("statsUpdated").send(this.getPlayerDiagnostics()),this.eventsHandler.message("stateChanged").send(this.contextWindow.amp.eventName.error,i)},r.prototype.updatePlayingState=function(e){this.isPlaying?e!==this.contextWindow.amp.eventName.pause&&e!==this.contextWindow.amp.eventName.seeking&&e!==this.contextWindow.amp.eventName.ended&&e!==this.contextWindow.amp.eventName.error&&e!==this.contextWindow.amp.eventName.waiting||(this.isPlaying=!1):e===this.contextWindow.amp.eventName.playing&&(this.isPlaying=!0)},r.prototype.updateBufferingState=function(e){this.isBuffering?e!==this.contextWindow.amp.eventName.pause&&e!==this.contextWindow.amp.eventName.seeking&&e!==this.contextWindow.amp.eventName.ended&&e!==this.contextWindow.amp.eventName.error&&e!==this.contextWindow.amp.eventName.playing||(this.isBuffering=!1):e===this.contextWindow.amp.eventName.waiting&&(this.isBuffering=!0)},r.prototype.updateCurrentVideoTrackBitrate=function(e){e===this.contextWindow.amp.eventName.playbackbitratechanged&&this.playerInstance.currentPlaybackBitrate()!==this.currentVideoPlaybackBitrate&&(this.currentVideoPlaybackBitrate=this.playerInstance.currentPlaybackBitrate(),this.updateVideoTrackHistoryStatistic())},r.prototype.initializeStatsColletion=function(){var e=this;this.diagnosticProvider.initialize(),this.statsTimer=window.setInterval((function(){e.eventsHandler&&(e.updatePlaybackDiagnostics(),e.eventsHandler.message("statsUpdated").send(e.getPlayerDiagnostics()))}),this.statsInterval)},r.prototype.stopStatsCollection=function(){this.updatePlaybackDiagnostics(),this.eventsHandler.message("statsUpdated").send(this.getPlayerDiagnostics()),-1!==this.statsTimer&&window.clearInterval(this.statsTimer),this.statsTimer=-1},r.prototype.updateVideoTrackHistoryStatistic=function(){var e=this,t=new Date;if(this.currentVideoPlaybackBitrate){var n=this.diagnosticProvider.getValue("videoTrackHistory"),i=this.diagnosticProvider.getValue("videoTrackTotalDurations");if(n.length>0&&this.currentVideoPlaybackBitrate===n[n.length-1].trackPlaybackBitrate){if(this.videoTrackHistoryUpdatedTimestamp){this.latestVideoTrackDuration+=(t.getTime()-this.videoTrackHistoryUpdatedTimestamp.getTime())/1e3,n[n.length-1].durationInSeconds=Number(this.latestVideoTrackDuration.toFixed(0));var r=this.videoTrackTotalDurations.find((function(t){return t.trackPlaybackBitrate===e.currentVideoPlaybackBitrate})),o=i.find((function(t){return t.trackPlaybackBitrate===e.currentVideoPlaybackBitrate}));r&&o&&(r.totalDurationInSeconds+=(t.getTime()-this.videoTrackHistoryUpdatedTimestamp.getTime())/1e3,o.totalDurationInSeconds=Number(r.totalDurationInSeconds.toFixed(0)))}}else{var a=this.playerInstance.videoBufferData(),s=null;if(a&&a.perceivedBandwidth&&(s=a.perceivedBandwidth),n.push({trackPlaybackBitrate:this.currentVideoPlaybackBitrate,trackSwitchTimestamp:t.getTime(),trackSwitchMeasuredBandwidth:this.diagnosticProvider?this.diagnosticProvider.getAverageMeasuredBandwidth():null,trackSwitchMeasuredByteSize:this.diagnosticProvider?this.diagnosticProvider.getAverageMeasuredVideoDownloadSize():null,trackSwitchPerceivedBandwidth:s,durationInSeconds:0}),this.latestVideoTrackDuration=0,n.length>this.configProvider.config.maxVideoTrackHistoryLogCount&&n.splice(0,1),!(r=this.videoTrackTotalDurations.find((function(t){return t.trackPlaybackBitrate===e.currentVideoPlaybackBitrate})))){var c={trackPlaybackBitrate:this.currentVideoPlaybackBitrate,totalDurationInSeconds:0},l={trackPlaybackBitrate:this.currentVideoPlaybackBitrate,totalDurationInSeconds:0};this.videoTrackTotalDurations.push(c),i.push(l)}}}this.videoTrackHistoryUpdatedTimestamp=t},r.prototype.updateTotalPlayingTimeStatistic=function(){var e=new Date;this.isPlaying&&this.totalPlayingTimeUpdatedTimestamp&&(this.totalPlayingTime+=e.getTime()-this.totalPlayingTimeUpdatedTimestamp.getTime()),this.totalPlayingTimeUpdatedTimestamp=e,this.diagnosticProvider.setValue("totalPlayingTimeInSeconds",Number((this.totalPlayingTime/1e3).toFixed(0)))},r.prototype.updateBufferingRateStatistic=function(){var e=new Date;this.isBuffering&&this.bufferingRateStatUpdatedTimestamp&&(this.totalBufferingTime+=e.getTime()-this.bufferingRateStatUpdatedTimestamp.getTime()),this.bufferingRateStatUpdatedTimestamp=e;var t=this.totalPlayingTime>0||this.totalBufferingTime>0?this.totalBufferingTime/(this.totalPlayingTime+this.totalBufferingTime):0;this.diagnosticProvider.setValue("bufferingRate",Number(t.toFixed(3)))},r.prototype.getPlayerDiagnostics=function(){var e=this.diagnosticProvider.getPlayerDiagnosticSnapshot();return e.statsInterval=this.statsInterval,this.configProvider.config.debug&&(e.memoryLog=this.playerInstance.getMemoryLog(!0)),e},r.prototype.log=function(e,t){void 0===t&&(t="info");var n="[AmpPlayer".concat(1===this.configProvider.config.loadType?"IFrame":"","]"),i="".concat(n,": ").concat(e);this.configProvider.config.debug&&console.log(i),this.eventsHandler.message("log").send(t,i)},r.prototype.getElementLoadPromise=function(e,t){return new Promise((function(n,i){e.onload=function(){n("Element Load success")},e.onerror=function(){i("Failed to load script: ".concat(t))}}))},r.prototype.loadCss=function(e,t,n){var i=e.createElement("link"),r=this.getElementLoadPromise(i,t);return i.href=t,i.rel="stylesheet",n&&(i.nonce=n),e.head.appendChild(i),r},r.prototype.parseJson=function(e,t){try{return JSON.parse(e)}catch(e){throw this.log("Error parsing JSON for ".concat(t,", error: ").concat(JSON.stringify(e))),e}},r}()};function r(){function e(e){var t="unknown";try{t="string"==typeof e?e:"toString"in e&&0!==e.toString().indexOf("[object")?e.toString():JSON.stringify(e)}catch(t){console.error("Failed to stringify error",e)}return t}return function(){function t(){this.processMsg=this.processMsg.bind(this),window.addEventListener("message",this.processMsg)}return t.prototype.sendMsg=function(t){try{var n=t;(function(e){return"CommandResult"===e.msgType})(t)&&t.error instanceof Event&&(console.debug("Stringifying error Event before trying to postMessage:",t),n={msgType:t.msgType,cmd:t.cmd,error:"Event: ".concat(e(t.error))}),this.postMessage(n)}catch(n){console.error("Unexpected exception caught from postMessage.\n","message:",t,"\n","exception:",n);var i={msgType:"PlayerNotification",name:"log",args:["error","Unexpected error with postMessage: ".concat(e(n))]};throw this.postMessage(i),n}},t.prototype.registerObserver=function(e){this.observer=e},t.prototype.dispose=function(){window.removeEventListener("message",this.processMsg),this.observer=null},t.prototype.processMsg=function(e){this.observer.processMessage(e.data)},t.prototype.postMessage=function(e){window.parent.postMessage(e,"*")},t}()};function i(){var e=n();return function(){function t(t,n){this.pipe=t,this.amp=new e(n,this)}return t.prototype.processMessage=function(e){var t=this;"Command"===e.msgType&&Promise.resolve().then((function(){return t.amp[e.cmd].apply(t.amp,e.args)})).then((function(n){t.pipe&&t.pipe.sendMsg({msgType:"CommandResult",cmd:e.cmd,result:JSON.stringify(n)})})).catch((function(n){t.pipe&&t.pipe.sendMsg({msgType:"CommandResult",cmd:e.cmd,error:n})}))},t.prototype.message=function(e){var t=this;return{send:this.fromMessage((function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];t.sendMessageImpl(e,n)}))}},t.prototype.ampDisposed=function(){this.pipe.dispose(),this.pipe=null,this.amp=null},t.prototype.fromMessage=function(e){return e},t.prototype.sendMessageImpl=function(e,t){this.pipe.sendMsg({msgType:"PlayerNotification",name:e,args:t})},t}()};function c(){return function(){function e(e,t,n,i){var r;this.player=e,this.toggleListener=t,this.config=n,this.diagnosticProvider=i,this.onTextTrackChanged=this.onTextTrackChanged.bind(this),this.isHtml5Tech="html5"===(null===(r=this.player.currentTechName())||void 0===r?void 0:r.toLowerCase())}return e.prototype.dispose=function(){this.unsubscribeFromTrackEvents(),this.player=null,this.toggleListener=null},e.prototype.initialize=function(){var e=this.getPlayerTextTracksAsArray();if(!this.config.controlsEnabled&&e.length>0)e[0].mode="showing";else for(var t=0;t<e.length;t++)e[t].mode="disabled";this.subscribeOnTrackEvents()},e.prototype.addCues=function(e){var t=this.player.getCurrentTextTrack();if(t)for(var n=this.getCurrentAbsoluteTime()||1,i=this.getCurrentTime(),r=this.config.controlsEnabled?n-i:Math.max(n-i,0),o=this.isHtml5Tech?window.VTTCue:window.vttjs&&window.vttjs.VTTCue||window.VTTCue,a=0;a<e.length;a++){var s=e[a],c=s.start,l=s.end,d=s.text,u=new o(Number((c-r).toFixed(2)),Number((l-r).toFixed(2)),d);u.size=100,!this.containsCue(t,u)&&t.addCue(u)}},e.prototype.clearCues=function(){var e=this.player.getCurrentTextTrack();if(e)try{if(e.activeCues&&e.removeCue)for(;e.activeCues.length>0;)e.removeCue(e.activeCues[0]);var t="setCues_";if(e.cues[t]){e.cues_&&(e.cues_.length=0),e.cues[t]([]);for(var n=Object.getOwnPropertyNames(e.cues),i=0;i<n.length;i++)"length"!==n[i]&&"length_"!==n[i]&&"cues_"!==n[i]&&delete e.cues[n[i]]}}catch(e){this.config.logFn("[clearCues]: ".concat(e),"warn")}},e.prototype.showCaptions=function(e){this.config.logFn("[CaptionsControl]: showCaptions(".concat(e,")")),e?this.show():this.hide()},e.prototype.hide=function(){this.previouslyVisibleTextTrack=this.player.getCurrentTextTrack(),this.previouslyVisibleTextTrack&&(this.previouslyVisibleTextTrack.mode="disabled"),this.player.captionToggle&&this.player.captionToggle.hide&&this.player.captionToggle.hide(),this.player.MoreOptionscaptionSubtitleButton&&this.player.MoreOptionscaptionSubtitleButton.hide&&this.player.MoreOptionscaptionSubtitleButton.hide(),this.player.MoreOptionscaptionSettingsButton&&this.player.MoreOptionscaptionSettingsButton.hide&&this.player.MoreOptionscaptionSettingsButton.hide()},e.prototype.show=function(){this.previouslyVisibleTextTrack&&(this.previouslyVisibleTextTrack.mode="showing"),this.player.captionToggle&&this.player.captionToggle.show&&this.player.captionToggle.show(),this.player.MoreOptionscaptionSubtitleButton&&this.player.MoreOptionscaptionSubtitleButton.show&&this.player.MoreOptionscaptionSubtitleButton.show(),this.player.MoreOptionscaptionSettingsButton&&this.player.MoreOptionscaptionSettingsButton.show&&this.player.MoreOptionscaptionSettingsButton.show()},e.prototype.subscribeOnTrackEvents=function(){var e=this.player.textTracks(),t="addEventListener";e&&e[t]&&(this.config.controlsEnabled&&e[t]("change",this.onTextTrackChanged),this.isHtml5Tech&&this.config.removeEmptyDefaultTextTrack&&e[t]("addtrack",this.onAddTrack.bind(this)))},e.prototype.unsubscribeFromTrackEvents=function(){var e=this.player.textTracks(),t="removeEventListener";e&&e[t]&&(this.config.controlsEnabled&&e[t]("change",this.onTextTrackChanged),this.isHtml5Tech&&this.config.removeEmptyDefaultTextTrack&&e[t]("addtrack",this.onAddTrack.bind(this)))},e.prototype.onTextTrackChanged=function(){var e=this.player.getCurrentTextTrack();if(!e||!this.currentTextTrack||this.currentTextTrack.label!==e.label||this.currentTextTrack.mode!==e.mode){if(e||this.currentTextTrack){var t=!!e&&"showing"===e.mode,n=this.getCulture(e||this.currentTextTrack),i=this.getCurrentTime();this.toggleListener.captionsToggled(t,n,i),this.config.logFn("[CaptionsControl]: track changed: culture '".concat(n,"', timestamp '").concat(i,"'"))}this.currentTextTrack=e}},e.prototype.onAddTrack=function(e){var t,n,i=null==e?void 0:e.track;"captions"===(null==i?void 0:i.kind)&&!i.label&&!i.id&&(null===(n=null===(t=this.player)||void 0===t?void 0:t.textTracks_)||void 0===n||n.removeTrack_(i),this.config.logFn("[CaptionsControl]: removing default empty text track"))},e.prototype.getCurrentTime=function(){return this.isHtml5Tech?this.player.currentTime():(this.config.controlsEnabled?this.player.currentTime():this.player.currentMediaTime())||1},e.prototype.getCurrentAbsoluteTime=function(){return this.diagnosticProvider.getCurrentAbsoluteTime()},e.prototype.getCulture=function(e){if(!e)return"";if(e.id){var t=e.id.split("_")[1];if(t)return t}return""},e.prototype.getPlayerTextTracksAsArray=function(){var e=this.player.textTracks();return e&&e.tracks_||[]},e.prototype.containsCue=function(e,t){var n=this;return Array.from((null==e?void 0:e.cues)||[]).some((function(e){return n.areCueEquals(e,t)}))},e.prototype.areCueEquals=function(e,t){function n(e){return{start:e.start?e.start:e.startTime,end:e.end?e.end:e.endTime,text:e.text}}var i=n(e),r=n(t);return i.start===r.start&&i.end===r.end&&i.text===r.text},e}()};function s(){return function(){function e(e,t,n,i,r){this.playerInstance=e,this.contextWindow=t,this.streamingStartedTimestamp=n,this.configProvider=i,this.absoluteTimeOffsetEstimator=r,this.currentDiagnosticSnapshot={playerType:0,currentPlayPosition:null,tech:null,perceivedBandwidth:null,playerHeight:null,playerWidth:null,mediaHeight:null,mediaWidth:null,windowHeight:null,windowWidth:null,videoStream:null,audioStream:null,totalDurationInSeconds:null,avgVideoDownloadLatency:null,avgAudioDownloadLatency:null,avgVideoDownloadBytes:null,avgAudioDownloadBytes:null,avgAudioDownloadBandwidth:null,avgVideoDownloadBandwidth:null,maxVideoDownloadBytes:null,minVideoDownloadBytes:null,videoDownloadSuccessCount:null,audioDownloadSuccessCount:null,videoDownloadFailureCount:null,audioDownloadFailureCount:null,videoBufferLength:null,videoCachedLength:null,audioBufferLength:null,audioCachedLength:null,videoEdgeLatency:null,audioEdgeLatency:null,playbackRate:null,playbackBitrate:null,downloadBitrate:null,audioDownloadBitrate:null,audioPlaybackBitrate:null,isFullscreen:null,streamType:null,playerVersion:null,isP2PSdnUsed:null,sdnName:null,livePosition:null,muted:null,volume:null,errorCode:null,currentMediaTime:null,currentAbsoluteTime:null,absoluteTimeOffsetEstimationResults:null,estimatedAbsoluteTimeOffset:null,videoDownloadFailures:null,audioDownloadFailures:null,heuristicProfile:null,encryption:null,retryFrequency:null,averageDownloadBitrate:null,totalDownloadedBytes:0,streamId:null,streamUrl:null,streamingEventType:null,playerControlsEnabled:null,streamDeliveryPipeline:null,retryCount:0,totalPlayingTimeInSeconds:0,bufferingRate:0,videoTrackHistory:[],videoTrackTotalDurations:[],memoryLog:null,statsInterval:null},this.videoDownloadLatencies=[],this.audioDownloadLatencies=[],this.audioDownloadBytes=[],this.videoDownloadBytes=[],this.audioDownloadBandwidths=[],this.videoDownloadBandwidths=[],this.videoDownloadSuccessCount=0,this.audioDownloadSuccessCount=0,this.videoDownloadFailureCount=0,this.audioDownloadFailureCount=0,this.audioDownloadFailures=[],this.videoDownloadFailures=[],this.totalDownloadedBytes=0,this.slidingWindowLengthForLatency=5,this.slidingWindowLengthForDownloadBytes=30,this.slidingWindowLengthForDownloadBandwidth=10,this.absoluteTimeOffsetEstimationResults=[],this.downloadFailuresLimit=10,this.onAudioDownloadCompleted=this.onAudioDownloadCompleted.bind(this),this.onAudioDownloadError=this.onAudioDownloadError.bind(this),this.onVideoDownloadCompleted=this.onVideoDownloadCompleted.bind(this),this.onVideoDownloadError=this.onVideoDownloadError.bind(this)}return e.prototype.initialize=function(){this.playerVideoBuffer=this.playerInstance.videoBufferData(),this.playerAudioBuffer=this.playerInstance.audioBufferData(),this.registerForPlayerBufferEvents()},e.prototype.setValue=function(e,t){this.currentDiagnosticSnapshot[e]=t},e.prototype.getValue=function(e){return this.currentDiagnosticSnapshot[e]},e.prototype.appendAbsoluteTimeOffsetEstimation=function(e){this.absoluteTimeOffsetEstimationResults.push(e),this.absoluteTimeOffsetEstimationResults.length>this.configProvider.config.ampSettings.maxAbsoluteTimeOffsetEstimationResultsLogCount&&this.absoluteTimeOffsetEstimationResults.splice(0,1)},e.prototype.getPlayerDiagnosticSnapshot=function(){var e,t=this;if(!this.playerInstance)return null;var n=window.screen,i=this.playerInstance.error(),r=function(e){var t=e.slice().sort();return t[Math.floor(t.length/2)]};this.currentDiagnosticSnapshot.errorCode=i&&i.code||0,this.currentDiagnosticSnapshot.currentPlayPosition=this.playerInstance.currentTime(),this.currentDiagnosticSnapshot.currentMediaTime=null!==(e=this.playerInstance.currentMediaTime())&&void 0!==e?e:this.playerInstance.currentTime(),this.currentDiagnosticSnapshot.currentAbsoluteTime=this.getCurrentAbsoluteTime(),this.currentDiagnosticSnapshot.absoluteTimeOffsetEstimationResults=this.absoluteTimeOffsetEstimationResults,this.currentDiagnosticSnapshot.estimatedAbsoluteTimeOffset=this.getCurrentAbsoluteTimeOffset(),this.currentDiagnosticSnapshot.playbackBitrate=this.playerInstance.currentPlaybackBitrate(),this.currentDiagnosticSnapshot.downloadBitrate=this.playerInstance.currentDownloadBitrate(),this.currentDiagnosticSnapshot.audioDownloadBitrate=this.lastAudioDownloadBitrate,this.currentDiagnosticSnapshot.perceivedBandwidth=this.playerVideoBuffer?this.playerVideoBuffer.perceivedBandwidth:0,this.currentDiagnosticSnapshot.tech=this.playerInstance.currentTechName(),this.currentDiagnosticSnapshot.playerVersion=this.playerInstance.getAmpVersion(),this.currentDiagnosticSnapshot.isP2PSdnUsed=this.isP2PSdnUsed(),this.currentDiagnosticSnapshot.sdnName=this.sdnName(),this.currentDiagnosticSnapshot.heuristicProfile=this.playerInstance.currentHeuristicProfile(),this.currentDiagnosticSnapshot.encryption=this.playerInstance.currentProtectionInfo()?this.playerInstance.currentProtectionInfo().type:"",this.currentDiagnosticSnapshot.streamType=this.getStreamType(this.currentDiagnosticSnapshot.streamType),this.currentDiagnosticSnapshot.totalDurationInSeconds=this.getTotalDurationInSeconds(),this.currentDiagnosticSnapshot.audioStream=this.getAudioStreamData(),this.currentDiagnosticSnapshot.videoStream=this.getVideoStreamData(),this.currentDiagnosticSnapshot.muted=this.playerInstance.muted(),this.currentDiagnosticSnapshot.volume=this.playerInstance.volume(),this.currentDiagnosticSnapshot.playbackRate=this.playerInstance.playbackRate();var o=this.getPlayerCachedLength(),a=this.getPlayerEdgeLatency();this.currentDiagnosticSnapshot.audioBufferLength=this.playerAudioBuffer?this.playerAudioBuffer.bufferLevel:0,this.currentDiagnosticSnapshot.audioCachedLength=o,this.currentDiagnosticSnapshot.audioEdgeLatency=a,this.currentDiagnosticSnapshot.videoBufferLength=this.playerVideoBuffer?this.playerVideoBuffer.bufferLevel:0,this.currentDiagnosticSnapshot.videoCachedLength=o,this.currentDiagnosticSnapshot.videoEdgeLatency=a,this.currentDiagnosticSnapshot.livePosition=this.getLivePosition(),this.currentDiagnosticSnapshot.mediaHeight=this.playerInstance.videoHeight(),this.currentDiagnosticSnapshot.mediaWidth=this.playerInstance.videoWidth(),this.currentDiagnosticSnapshot.playerHeight=this.playerInstance.height(),this.currentDiagnosticSnapshot.playerWidth=this.playerInstance.width(),this.currentDiagnosticSnapshot.windowHeight=n?n.height:0,this.currentDiagnosticSnapshot.windowWidth=n?n.width:0,this.currentDiagnosticSnapshot.isFullscreen=this.playerInstance.isFullscreen(),this.currentDiagnosticSnapshot.avgAudioDownloadLatency=r(this.audioDownloadLatencies),this.currentDiagnosticSnapshot.avgVideoDownloadLatency=r(this.videoDownloadLatencies),this.currentDiagnosticSnapshot.avgAudioDownloadBytes=r(this.audioDownloadBytes),this.currentDiagnosticSnapshot.avgVideoDownloadBytes=r(this.videoDownloadBytes),this.currentDiagnosticSnapshot.maxVideoDownloadBytes=Math.max.apply(null,this.videoDownloadBytes),this.currentDiagnosticSnapshot.minVideoDownloadBytes=Math.min.apply(null,this.videoDownloadBytes),this.currentDiagnosticSnapshot.avgAudioDownloadBandwidth=r(this.audioDownloadBandwidths),this.currentDiagnosticSnapshot.avgVideoDownloadBandwidth=r(this.videoDownloadBandwidths),this.currentDiagnosticSnapshot.audioDownloadFailureCount=this.audioDownloadFailureCount,this.currentDiagnosticSnapshot.audioDownloadSuccessCount=this.audioDownloadSuccessCount,this.currentDiagnosticSnapshot.videoDownloadFailureCount=this.videoDownloadFailureCount,this.currentDiagnosticSnapshot.videoDownloadSuccessCount=this.videoDownloadSuccessCount,this.currentDiagnosticSnapshot.audioDownloadFailures=this.audioDownloadFailures,this.currentDiagnosticSnapshot.videoDownloadFailures=this.videoDownloadFailures,this.currentDiagnosticSnapshot.totalDownloadedBytes=this.totalDownloadedBytes,this.currentDiagnosticSnapshot.retryFrequency=this.getRetryFrequency(),this.currentDiagnosticSnapshot.averageDownloadBitrate=this.getAverageDownloadBitrate();var s=this.getDiagnosticWritableField();return Object.keys(s).forEach((function(e){t.currentDiagnosticSnapshot[e]=s[e]})),this.currentDiagnosticSnapshot},e.prototype.getDiagnosticWritableField=function(){return{streamUrl:this.currentDiagnosticSnapshot.streamUrl,streamId:this.currentDiagnosticSnapshot.streamId,streamingEventType:this.currentDiagnosticSnapshot.streamingEventType,playerControlsEnabled:this.currentDiagnosticSnapshot.playerControlsEnabled,streamDeliveryPipeline:this.currentDiagnosticSnapshot.streamDeliveryPipeline,retryCount:this.currentDiagnosticSnapshot.retryCount,totalPlayingTimeInSeconds:this.currentDiagnosticSnapshot.totalPlayingTimeInSeconds,bufferingRate:this.currentDiagnosticSnapshot.bufferingRate,videoTrackHistory:this.currentDiagnosticSnapshot.videoTrackHistory,videoTrackTotalDurations:this.currentDiagnosticSnapshot.videoTrackTotalDurations}},e.prototype.dispose=function(){this.unsubscribeFromPlayerBufferEvents()},e.prototype.registerForPlayerBufferEvents=function(){this.playerVideoBuffer&&(this.playerVideoBuffer.addEventListener(this.contextWindow.amp.bufferDataEventName.downloadcompleted,this.onVideoDownloadCompleted),this.playerVideoBuffer.addEventListener(this.contextWindow.amp.bufferDataEventName.downloadfailed,this.onVideoDownloadError)),this.playerAudioBuffer&&(this.playerAudioBuffer.addEventListener(this.contextWindow.amp.bufferDataEventName.downloadcompleted,this.onAudioDownloadCompleted),this.playerAudioBuffer.addEventListener(this.contextWindow.amp.bufferDataEventName.downloadfailed,this.onAudioDownloadError))},e.prototype.unsubscribeFromPlayerBufferEvents=function(){this.playerVideoBuffer&&(this.playerVideoBuffer.removeEventListener(this.contextWindow.amp.bufferDataEventName.downloadcompleted,this.onVideoDownloadCompleted),this.playerVideoBuffer.removeEventListener(this.contextWindow.amp.bufferDataEventName.downloadfailed,this.onVideoDownloadError)),this.playerAudioBuffer&&(this.playerAudioBuffer.removeEventListener(this.contextWindow.amp.bufferDataEventName.downloadcompleted,this.onAudioDownloadCompleted),this.playerAudioBuffer.removeEventListener(this.contextWindow.amp.bufferDataEventName.downloadfailed,this.onAudioDownloadError))},e.prototype.isP2PSdnUsed=function(){return!!this.sdnName()},e.prototype.sdnName=function(){var e="options_";return this.playerInstance[e]&&this.playerInstance[e].sdn&&this.playerInstance[e].sdn.name},e.prototype.getStreamType=function(e){var t="";return this.playerInstance&&(t=this.playerInstance.isLive()?"LIVE":"DVR"),""===t||"LIVE"===e&&t!==e?e||"":t},e.prototype.getCurrentAbsoluteTime=function(){var e;return this.absoluteTimeOffsetEstimator?this.absoluteTimeOffsetEstimator.absoluteTimeOffset?this.absoluteTimeOffsetEstimator.absoluteTimeOffset+this.playerInstance.currentTime():this.playerInstance.currentTime():null!==(e=this.playerInstance.currentAbsoluteTime())&&void 0!==e?e:this.playerInstance.currentTime()},e.prototype.getCurrentAbsoluteTimeOffset=function(){return this.getCurrentAbsoluteTime()-this.playerInstance.currentTime()},e.prototype.getTotalDurationInSeconds=function(){var e=((new Date).getTime()-this.streamingStartedTimestamp.getTime())/1e3;return Number(e.toFixed(0))},e.prototype.onVideoDownloadCompleted=function(){this.videoDownloadSuccessCount++,this.addToList(this.videoDownloadLatencies,this.playerVideoBuffer.downloadCompleted.totalDownloadMs,this.slidingWindowLengthForLatency),this.addToList(this.videoDownloadBytes,this.playerVideoBuffer.downloadCompleted.totalBytes,this.slidingWindowLengthForDownloadBytes),this.addToList(this.videoDownloadBandwidths,8*this.playerVideoBuffer.downloadCompleted.totalBytes*1e3/this.playerVideoBuffer.downloadCompleted.totalDownloadMs,this.slidingWindowLengthForDownloadBandwidth),this.totalDownloadedBytes+=this.playerVideoBuffer.downloadCompleted.totalBytes},e.prototype.onAudioDownloadCompleted=function(){this.audioDownloadSuccessCount++,this.addToList(this.audioDownloadLatencies,this.playerAudioBuffer.downloadCompleted.totalDownloadMs,this.slidingWindowLengthForLatency),this.addToList(this.audioDownloadBytes,this.playerAudioBuffer.downloadCompleted.totalBytes,this.slidingWindowLengthForDownloadBytes),this.addToList(this.audioDownloadBandwidths,8*this.playerAudioBuffer.downloadCompleted.totalBytes*1e3/this.playerAudioBuffer.downloadCompleted.totalDownloadMs,this.slidingWindowLengthForDownloadBandwidth),this.totalDownloadedBytes+=this.playerAudioBuffer.downloadCompleted.totalBytes;var e=this.playerAudioBuffer.downloadCompleted.mediaDownload.bitrate;e!==this.lastAudioDownloadBitrate&&(this.lastAudioDownloadBitrate=e)},e.prototype.addToList=function(e,t,n){e.push(t),e.length>n&&e.shift()},e.prototype.onVideoDownloadError=function(){this.videoDownloadFailureCount++,this.addDownloadFailureInfo(this.playerVideoBuffer.downloadFailed,this.videoDownloadFailures)},e.prototype.onAudioDownloadError=function(){this.audioDownloadFailureCount++,this.addDownloadFailureInfo(this.playerAudioBuffer.downloadFailed,this.audioDownloadFailures)},e.prototype.addDownloadFailureInfo=function(e,t){var n={bitrate:e.mediaDownload.bitrate,errorCode:e.code,mediaTime:e.mediaDownload.mediaTime,message:e.message,timestamp:Date.now()};this.addToList(t,n,this.downloadFailuresLimit)},e.prototype.getAudioStreamData=function(){var e=this.playerInstance.currentAudioStreamList();if(e)try{var t=e.streams[e.enabledIndices[0]];return{bitrate:t.bitrate,codec:t.codec,enabled:t.enabled,name:t.name,language:t.language}}catch(e){return}},e.prototype.getVideoStreamData=function(){var e=this.playerInstance.currentVideoStreamList();if(e)try{var t=e.streams[e.selectedIndex],n=this.playerInstance.currentPlaybackBitrate(),i=t.tracks?t.tracks.map((function(e){return{bitrate:e.bitrate,height:e.height,id:e.id,selectable:e.selectable,width:e.width}})).find((function(e){return e.bitrate===n})):null;return{codec:t.codec,name:t.name,currentTrack:i}}catch(e){return}},e.prototype.getLivePosition=function(){var e=this.playerInstance.buffered();if(0===e.length)return 0;for(var t=e.end(0),n=1;n<e.length;n++)t=Math.max(t,e.end(n));return t},e.prototype.getAverageDownloadBitrate=function(){if(this.streamingStartedTimestamp&&this.totalDownloadedBytes){var e=((new Date).getTime()-this.streamingStartedTimestamp.getTime())/1e3;if(e>0)return 8*this.totalDownloadedBytes/e}return 0},e.prototype.getRetryFrequency=function(){var e=this.currentDiagnosticSnapshot.retryCount;if(this.streamingStartedTimestamp&&e){var t=((new Date).getTime()-this.streamingStartedTimestamp.getTime())/6e4;if(t>0)return e/t}return 0},e.prototype.getAverageMeasuredBandwidth=function(){if(0===this.videoDownloadBandwidths.length)return null;for(var e=0,t=0;t<this.videoDownloadBandwidths.length;t++)e+=this.videoDownloadBandwidths[t];return e/this.videoDownloadBandwidths.length},e.prototype.getAverageMeasuredVideoDownloadSize=function(){if(0===this.videoDownloadBytes.length)return null;for(var e=0,t=0;t<this.videoDownloadBytes.length;t++)e+=this.videoDownloadBytes[t];return e/this.videoDownloadBytes.length},e.prototype.getPlayerCachedLength=function(){for(var e=this.playerInstance.buffered(),t=0,n=0;n<e.length;n++)t+=e.end(n)-e.start(n);return t},e.prototype.getPlayerEdgeLatency=function(){var e=this.playerInstance.buffered();if(0===e.length)return 0;for(var t=e.end(0),n=1;n<e.length;n++)t=Math.max(t,e.end(n));return t-this.playerInstance.currentTime()},e}()};function o(){var e=a();return function(){function t(t){this.playlistFileDownloadPromise=Promise.resolve(),this.playlistFileDownloadRetryWaitTime=250,this.playlistFileDownloadMaxRetryCount=20,this.playlistFileDownloadCancellationFlag=!1,this.logFn=function(e,n){return t("[HlsAbsoluteTimeOffsetEstimator]: ".concat(e),n)},this.hlsFileParser=new e(t)}return Object.defineProperty(t.prototype,"absoluteTimeOffset",{get:function(){return this.estimatedAbsoluteTimeOffset},enumerable:!1,configurable:!0}),t.prototype.setEstimationResultCallback=function(e){this.onAbsoluteTimeOffsetEstimation=e},t.prototype.restartStreamAbsoluteTimeOffsetRetrieval=function(){var e=this;this.stopStreamAbsoluteTimeOffsetRetrieval().then((function(){return e.startStreamAbsoluteTimeOffsetRetrieval()}))},t.prototype.setManifestFileURL=function(e){this.cachedManifestUrl=e},t.prototype.startStreamAbsoluteTimeOffsetRetrieval=function(){var e=this;this.playlistFileDownloadPromise=this.retryPlaylistFileDownload((function(){return e.estimateStreamTimeFromPlaylist(e.currentManifestUrl)})).then((function(){e.logFn("Succeeded in downloading playlist files to estimate\n                    absolute stream time offset as: ".concat(e.estimatedAbsoluteTimeOffset))})).catch((function(t){e.logFn("Failed to download playlist files to estimate absolute stream time offset: ".concat(t.message),"error")}))},t.prototype.stopStreamAbsoluteTimeOffsetRetrieval=function(){var e=this;return this.playlistFileDownloadCancellationFlag=!0,this.playlistFileDownloadPromise.then((function(){e.playlistFileDownloadCancellationFlag=!1,e.currentManifestUrl=e.cachedManifestUrl,e.cachedManifestUrl=null}))},t.prototype.retryPlaylistFileDownload=function(e,t){var n=this;return void 0===t&&(t=0),Promise.resolve(),e().then((function(){return n.onAbsoluteTimeOffsetEstimation&&n.onAbsoluteTimeOffsetEstimation({timestamp:Date.now(),retries:t,isSuccess:!0,absoluteTimeOffsetEstimation:n.absoluteTimeOffset}),Promise.resolve()})).catch((function(i){return t++,n.logFn("Error loading playlist file: ".concat(i," -- attempt ").concat(t)),n.onAbsoluteTimeOffsetEstimation&&n.onAbsoluteTimeOffsetEstimation({timestamp:Date.now(),retries:t,isSuccess:!1,error:i.message}),t===n.playlistFileDownloadMaxRetryCount?Promise.reject(new Error("".concat(i," after ").concat(t," attempts"))):n.playlistFileDownloadCancellationFlag?Promise.reject(new Error("cancelling playlist file download")):new Promise((function(i){return setTimeout((function(){return i(n.retryPlaylistFileDownload(e,t))}),n.playlistFileDownloadRetryWaitTime)}))}))},t.prototype.estimateStreamTimeFromPlaylist=function(e){var t=this;return this.hlsFileParser.getStreamRenditionsUrlsFromManifest(e).then((function(n){if(0===n.audioRenditions.length&&0===n.videoRenditions.length)throw new Error("Unable to retrieve renditions URLs from manifest: ".concat(e));return Promise.all([n.videoRenditions.length>0?t.hlsFileParser.getTextFileContent(n.videoRenditions[0]):Promise.resolve(null),n.audioRenditions.length>0?t.hlsFileParser.getTextFileContent(n.audioRenditions[0]):Promise.resolve(null)])})).then((function(e){for(var n,i=0;i<e.length;i++){var r=e[i];if(r){t.logFn("Using segment duration and sequence number to calculate absolute time offset","debug");var o=t.hlsFileParser.getHlsFieldByName("SequenceNumber",r);if(0==o.length)throw new Error("Unable to retrieve sequence number from playlist file");var a=t.hlsFileParser.getHlsFieldByName("SegmentDuration",r,10);if(0==a.length)throw new Error("Unable to retrieve segment durations from playlist file");var s=a.map(Number);s.sort((function(e,t){return e-t}));var c=s[Math.floor(s.length/2)],l=Number(o[0])*Number(c);n=n?Math.max(n,l):l}}t.estimatedAbsoluteTimeOffset=n}))},t}()};function a(){return function(){function e(e){this.fieldNameRegexMap={BaseUrl:/(.*)\/.*/,AudioManifestFile:/#EXT-X-MEDIA:TYPE=AUDIO.*URI=\"(.*)\"/,SequenceNumber:/#EXT-X-MEDIA-SEQUENCE:(\d+)/,SegmentDuration:/#EXTINF:(\d+(\.\d+)?)/},this.logFn=function(t,n){return e("[HlsFileParser]: ".concat(t),n)}}return e.prototype.getHlsFieldByName=function(e,t,n){void 0===n&&(n=1);for(var i=[],r=1;r<=n;r++){var o=this.fieldNameRegexMap[e].exec(t);if(!(o&&o.length>0))break;i.push(o[1]),t=t.substring(o.index+o[0].length)}return i},e.prototype.getStreamRenditionsUrlsFromManifest=function(e){var t=this;return e?this.getTextFileContent(e).then((function(n){for(var i={audioRenditions:[],videoRenditions:[]},r=n.split("\n"),o=t.getHlsFieldByName("BaseUrl",e),a=0;a<r.length;a++)if(r[a].includes("#EXT-X-STREAM-INF"))(s=r[a+1]).includes("http")?i.videoRenditions.push(s):o.length>0&&i.videoRenditions.push("".concat(o[0],"/").concat(s));else if(r[a].includes("EXT-X-MEDIA:TYPE")){var s,c=t.getHlsFieldByName("AudioManifestFile",r[a]);c.length>0&&((s=c[0]).includes("http")?i.audioRenditions.push(s):o.length>0&&i.audioRenditions.push("".concat(o[0],"/").concat(s)))}return i})).catch((function(e){return t.logFn("Failed to extract stream renditions from manifest, error: ".concat(e.message),"error"),{audioRenditions:[],videoRenditions:[]}})):(this.logFn("No manifest URL provided to parse"),Promise.resolve({audioRenditions:[],videoRenditions:[]}))},e.prototype.getTextFileContent=function(e){var t=this;return fetch(e).then((function(t){if(!t.ok)throw new Error("http-error ".concat(t.status," when downloading: ").concat(e));return t.text()})).catch((function(e){return t.logFn("Error downloading resource: ".concat(e),"error"),Promise.reject(e)}))},e}()};//# sourceURL=TsCallingAmpPlayer.js</script>
            
            
        <div poster="" class="azuremediaplayer amp-stream-skin amp-big-play-centered amp-player-dimensions amp-size-l vjs-user-inactive" lang="en-gb" playsinline="" id="amp-player" tabindex="-1" style="width: 100%; height: 100%; font-size: 1280px;"><div tabindex="null" class="vjs-controls-enabled vjs-player vjs-workinghover vjs-has-started vjs-paused" aria-label="video player" title="Press space key to play/pause the video"><div><video id="amp-player_AzureHtml5JS_api_4706" class="vjs-tech" oncontextmenu="return false;" tabindex="-1" aria-hidden="true" preload="auto" src="blob:null/915325af-2305-4518-b468-3f46db42d302"></video></div><div></div><div class="vjs-fullscreen-outline outline-enabled-control"></div><div class="vjs-poster vjs-hidden" tabindex="-1"><span class="vjs-poster-span" tabindex="-1"></span><img src="https://teams.microsoft.com/convene/meetings?url=%2Fl%2Fmeetup-join%2F19%3Ameeting_ZDIwNzc1ODgtY2Y4NC00YjA4LTg1MTEtMDFhMTNmMTk2ZWU0%40thread.v2%2F0%3Fcontext%3D%257B%2522Tid%2522%253A%25224ffa3bc4-ecfc-48c0-9080-f5e43ff90e5f%2522%252C%2522Oid%2522%253A%2522cdf2c525-361d-4c2a-a088-140544f41471%2522%252C%2522IsBroadcastMeeting%2522%253Atrue%252C%2522role%2522%253A%2522a%2522%257D%26btype%3Da%26role%3Da%26anon%3Dtrue&amp;tenantId=4ffa3bc4-ecfc-48c0-9080-f5e43ff90e5f&amp;deeplinkId=7b5d7607-e816-40b3-bd3f-4966915b445a" width="100%" height="auto" alt="" role="presentation" style="display: inline;"></div><div class="vjs-text-track-display" aria-live="off" aria-atomic="true" role="region" aria-label="Text Track Display"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span></span></div><button class="vjs-big-play-button " type="button"><span class="vjs-control-text">Play Video</span></button><div class="vjs-control-bar" dir="ltr" role="group"><div class="amp-controlbaricons-left"><button class="vjs-play-control vjs-control vjs-button outline-enabled-control vjs-paused" type="button" style="cursor:pointer" title="Play"><span class="vjs-control-text" aria-live="off"></span></button><div class="vjs-volume-control" title="volume level" aria-expanded="false"><button class="vjs-mute-control vjs-control vjs-button outline-enabled-control vjs-vol-3" type="button" aria-label="Mute"><span class="vjs-control-text"></span></button><div class="vjs-menu"><div class="vjs-menu-content"><div tabindex="-1" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="100.00" aria-valuemin="0" aria-valuemax="100" aria-label="volume level" aria-valuetext="100.00%"><div class="vjs-volume-level" style="width: 100%;"><span class="vjs-control-text"></span></div><div class="vjs-volume-handle vjs-control outline-enabled-control" style="left: 100%;"><span class="vjs-control-text">100%</span></div></div></div></div></div><div class="vjs-live-control vjs-control outline-enabled-control vjs-hidden" tabindex="0" role="button" aria-label="Skip to live broadcast" style="cursor:pointer" title="Go to live"><span class="vjs-control-text">Skip to live broadcast</span><div class="vjs-live-display" aria-live="off"><span class="vjs-control-text">Stream Type</span>LIVE</div></div><div class="vjs-current-time vjs-time-control vjs-control outline-enabled-control"><div class="vjs-current-time-display" aria-live="off"><span class="vjs-control-text">Current Time</span> 0:00:00</div><div class="amp-livetimeindicator">LIVE</div></div><div class="vjs-time-control vjs-time-divider"><div><span>/</span></div></div><div class="vjs-duration vjs-time-control vjs-control outline-enabled-control"><div class="vjs-duration-display" aria-live="off"><span class="vjs-control-text">Duration Time</span> 1:12:15</div></div><div class="vjs-remaining-time vjs-time-control vjs-control outline-enabled-control"><div class="vjs-remaining-time-display" aria-live="off"><span class="vjs-control-text">Remaining Time</span> -1:12:15</div></div></div><div class="amp-controlbaricons-middle"><div class="vjs-progress-control vjs-control outline-enabled-control" tabindex="-1"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="progress bar" aria-valuetext="0"><div class="vjs-load-progress " style="width: 0.922722%;"><span class="vjs-control-text" style="left: -5e-07%; width: 100%;"><span>Loaded</span>: 0%</span></div><div class="vjs-mouse-display" style="left: -6px;"><span class="amp-time-tooltip" style="left: 6px;">0:00:00</span><span class="amp-time-tooltip-pointer" style="left: 14px;"></span></div><div class="vjs-play-progress vjs-slider-bar " data-current-time="0:00:00" style="width: 0%;"><span class="vjs-control-text"><span>Progress</span>: 0%</span></div><div class="vjs-slider-handle " style="left: 0%;"><div class="vjs-mouse-display-seek-handle" style="left: 0px;"><span class="amp-time-tooltip" style="left: 23px;">0:00:00</span><span class="amp-time-tooltip-pointer"></span></div><span class="vjs-control-text">Seekbar Handle</span></div></div></div></div><div class="amp-controlbaricons-right"><button class="amp-caption-toggle vjs-control vjs-button outline-enabled-control" type="button" aria-relevant="removals" aria-pressed="false" aria-label="Subtitles are currently off, Subtitle toggle"><span class="vjs-control-text">Subtitles</span></button><div class="amp-more-options-icon vjs-control vjs-button vjs-settings outline-enabled-control" tabindex="0" role="button" aria-label="Settings" data-return-focus="settingsPanel" aria-haspopup="true" aria-expanded="false"><span class="vjs-control-text">Settings</span></div><button class="vjs-fullscreen-control vjs-control vjs-button outline-enabled-control" type="button" style="cursor:pointer" title="Fullscreen" aria-label="Fullscreen"><span class="vjs-control-text"></span></button></div></div><div class="vjs-moreoptions-dialog vjs-modal-overlay vjs-hidden" tabindex="-1" role="presentation" aria-labelledby="TTsettingsMoreOptionsDialogLabel-amp-player_component_320" aria-describedby="TTMoreOptionsDialogDescription-amp-player_component_320" style="width: 0px; height: 0px;"><div class="vjs-settings-panel" tabindex="-1"><div class="vjs-settings-panel-child outline-enabled-control" tabindex="-1"><div class="vjs-menu vjs-main-menu" role="menubar" style="opacity: 1;"><ul class="vjs-menu-content" role="menu"><div class="vjs-menu-button vjs-menu-button-popup vjs-button vjs-menu-item amp-playbackspeed-control-normal outline-enabled-control" tabindex="-1" role="menuitem" aria-expanded="false" aria-haspopup="true" aria-label="Playback Speed, 1x" title="Playback Speed" aria-live="off"><span class="vjs-control-text" aria-hidden="true" aria-live="off"></span><div class="vjs-settings-sub-menu-title" aria-hidden="true" aria-live="off">Playback Speed</div><div class="vjs-settings-sub-menu-value" aria-hidden="true" aria-live="off">1x</div></div><div class="vjs-captions-subtitles-button vjs-menu-button vjs-menu-button-popup vjs-button vjs-menu-item outline-enabled-control" tabindex="-1" role="menuitem" aria-expanded="false" aria-haspopup="true" aria-label="Captions / Subtitles, Off" aria-live="off"><span class="vjs-control-text" aria-hidden="true" aria-live="off"></span><div class="vjs-settings-sub-menu-title" aria-hidden="true" aria-live="off">Captions / Subtitles</div><div class="vjs-settings-sub-menu-value" aria-hidden="true" aria-live="off">Off</div></div><div class="amp-captions-settings-button vjs-menu-button vjs-menu-button-popup vjs-button vjs-menu-item outline-enabled-control" tabindex="-1" role="menuitem" aria-expanded="false" aria-haspopup="true" aria-label="Captions / Subtitles settings" aria-live="off"><span class="vjs-control-text" aria-hidden="true" aria-live="off"></span><div class="vjs-settings-sub-menu-title" aria-hidden="true" aria-live="off">Captions / Subtitles settings</div><div class="vjs-settings-sub-menu-value" aria-hidden="true" aria-live="off"></div></div><div class="amp-quality-control vjs-menu-button vjs-menu-button-popup vjs-button vjs-menu-item quality-4 outline-enabled-control" tabindex="-1" role="menuitem" aria-expanded="false" aria-haspopup="true" aria-label="Quality, Auto" aria-live="off"><span class="vjs-control-text" aria-hidden="true" aria-live="off"></span><div class="vjs-settings-sub-menu-title" aria-hidden="true" aria-live="off">Quality</div><div class="vjs-settings-sub-menu-value" aria-hidden="true" aria-live="off">Auto</div></div><div class="amp-caption-toggle vjs-menu-button vjs-menu-button-popup vjs-button vjs-hidden vjs-menu-item outline-enabled-control" tabindex="-1" role="menuitem" aria-expanded="false" aria-haspopup="true" aria-label="Report an issue" aria-hidden="true" aria-live="off"><div class="vjs-menu" role="menubar"><ul class="vjs-menu-content" role="menu"></ul></div><span class="vjs-control-text" aria-hidden="true" aria-live="off"></span><div class="vjs-settings-sub-menu-title" aria-hidden="true" aria-live="off">Report an issue</div><div class="vjs-settings-sub-menu-value" aria-hidden="true" aria-live="off"></div></div></ul></div><div class="vjs-settings-sub-menu vjs-hidden" style="margin-right: 0px; opacity: 0;"><div class="vjs-menu" role="menubar"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item vjs-back-button" tabindex="-1" role="menuitem" aria-label="Back to main menu">Back to main menu</li><li class="vjs-menu-item amp-menu-item" tabindex="-1" role="menuitemcheckbox" aria-label="2x" aria-checked="false">2x<span class="vjs-control-text"> </span></li><li class="vjs-menu-item amp-menu-item" tabindex="-1" role="menuitemcheckbox" aria-label="1.8x" aria-checked="false">1.8x<span class="vjs-control-text"> </span></li><li class="vjs-menu-item amp-menu-item" tabindex="-1" role="menuitemcheckbox" aria-label="1.5x" aria-checked="false">1.5x<span class="vjs-control-text"> </span></li><li class="vjs-menu-item amp-menu-item" tabindex="-1" role="menuitemcheckbox" aria-label="1.2x" aria-checked="false">1.2x<span class="vjs-control-text"> </span></li><li class="vjs-menu-item amp-menu-item vjs-selected" tabindex="-1" role="menuitemcheckbox" aria-label="1x" aria-checked="true">1x<span class="vjs-control-text">, selected</span></li><li class="vjs-menu-item amp-menu-item" tabindex="-1" role="menuitemcheckbox" aria-label="0.5x" aria-checked="false">0.5x<span class="vjs-control-text"> </span></li></ul></div></div><div class="vjs-settings-sub-menu vjs-hidden" style="margin-right: 0px; opacity: 0;"><div class="vjs-menu vjs-settings-sub-menu" role="menubar"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item vjs-back-button outline-enabled-control" tabindex="-1" role="menuitem" aria-label="Back to main menu"><span class="vjs-back-button-text">Captions / Subtitles</span></li><li class="vjs-menu-item vjs-selected outline-enabled-control" tabindex="-1" role="menuitemcheckbox" aria-label="Off" aria-checked="true">Off<span class="vjs-control-text">, selected</span></li><li class="vjs-menu-item outline-enabled-control" tabindex="-1" role="menuitemcheckbox" aria-label="English" aria-checked="false">English<span class="vjs-control-text"> </span></li></ul></div></div><div class="vjs-settings-sub-menu vjs-hidden" style="margin-right: 0px; opacity: 0;"><div class="vjs-menu vjs-settings-sub-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item dialog-header vjs-back-button outline-enabled-control" tabindex="-1" role="menuitem" aria-label="Back to main menu"><span class="vjs-back-button-text">Captions / Subtitles settings</span></li><li class="amp-caption-settings-menu amp-non-clickable-element" role="presentation" tabindex="-1">
        <div class="amp-caption-setting-container">
            <label class="amp-caption-settings-label full-width-label" id="captions-text-size-amp-player_component_498">Text size: </label>
            <div class="amp-radio-button-group amp-font-size-group" role="radiogroup" aria-labelledby="captions-text-size-amp-player_component_498">
                <label class="amp-radio-button amp-font-size" role="radio" aria-labelledby="captions-text-size-small-amp-player_component_498">
                    <input type="radio" name="fontSize" value="0.75" class="outline-enabled-control" aria-setsize="3" aria-posinset="1">
                    <span id="captions-text-size-small-amp-player_component_498">Small</span>
                </label>
                <label class="amp-radio-button amp-font-size" role="radio" aria-labelledby="captions-text-size-medium-amp-player_component_498">
                    <input type="radio" name="fontSize" value="1.00" class="outline-enabled-control" aria-setsize="3" aria-posinset="2">
                    <span id="captions-text-size-medium-amp-player_component_498">Medium</span>
                </label>
                <label class="amp-radio-button amp-font-size" role="radio" aria-labelledby="captions-text-size-large-amp-player_component_498">
                    <input type="radio" name="fontSize" value="1.50" class="outline-enabled-control" aria-setsize="3" aria-posinset="3">
                    <span id="captions-text-size-large-amp-player_component_498">Large</span>
                </label>
            </div>

            <label class="amp-caption-settings-label full-width-label" for="captions-text-color-amp-player_component_498">Text color: 
                <span class="amp-caption-color-selected-text">Standard</span>
            </label>
            <div class="amp-radio-button-group amp-font-color-group" id="caption-text-color-amp-player_component_498" role="radiogroup" aria-label="Text color: ">
                <label class="amp-radio-button amp-font-color" role="radio">
                    <input type="radio" name="fontColor" value="whiteBlack" aria-setsize="4" aria-posinset="1" class="amp-font-color-whiteBlack outline-enabled-control" aria-label="Standard">
                    <span></span>
                </label>
                <label class="amp-radio-button amp-font-color" role="radio">
                    <input type="radio" name="fontColor" value="whiteGray" aria-setsize="4" aria-posinset="2" class="amp-font-color-whiteGray outline-enabled-control" aria-label="Reverse sepia">
                    <span></span>
                </label>
                <label class="amp-radio-button amp-font-color" role="radio">
                    <input type="radio" name="fontColor" value="blackLightGray" aria-setsize="4" aria-posinset="3" class="amp-font-color-blackLightGray outline-enabled-control" aria-label="Sepia">
                    <span></span>
                </label>
                <label class="amp-radio-button amp-font-color" role="radio">
                    <input type="radio" name="fontColor" value="blackWhite" aria-setsize="4" aria-posinset="4" class="amp-font-color-blackWhite outline-enabled-control" aria-label="Reverse standard">
                    <span></span>
                </label>
            </div>

            <div class="amp-background-transparency amp-row-with-button">
                <label class="amp-caption-settings-label" id="captions-background-transparency-label-amp-player_component_498">Background transparency</label>
                <div class="amp-toggle">
                    <button type="button" role="button" aria-pressed="false" class="amp-captions-background-transparency outline-enabled-control" aria-labelledby="captions-background-transparency-label-amp-player_component_498"></button>
                    <span class="toggle-value">Off</span>
                </div>
            </div>
            <div class="amp-caption-settings-reset-container">
                <button type="button" class="amp-caption-settings-reset amp-caption-settings-label outline-enabled-control amp-caption-settings-reset-disabled" disabled="true">Revert to default settings</button>
            </div>
        </div>
        </li></ul></div></div><div class="vjs-settings-sub-menu vjs-hidden" style="opacity: 0; margin-right: 0px;"><div class="vjs-menu vjs-settings-sub-menu" role="menubar"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item vjs-back-button outline-enabled-control" tabindex="-1" role="menuitem" aria-label="Back to main menu"><span class="vjs-back-button-text">Quality</span></li><li class="vjs-menu-item vjs-selected amp-menu-item outline-enabled-control" tabindex="-1" role="menuitemcheckbox" aria-label="Auto" aria-checked="true">Auto<span class="vjs-control-text">, selected</span></li><li class="vjs-menu-item amp-menu-item outline-enabled-control" tabindex="-1" role="menuitemcheckbox" aria-label="720p-1.7Mbps" aria-checked="false">720p-1.7Mbps<span class="vjs-control-text"> </span></li><li class="vjs-menu-item amp-menu-item outline-enabled-control" tabindex="-1" role="menuitemcheckbox" aria-label="540p-850Kbps" aria-checked="false">540p-850Kbps<span class="vjs-control-text"> </span></li><li class="vjs-menu-item amp-menu-item outline-enabled-control" tabindex="-1" role="menuitemcheckbox" aria-label="360p-350Kbps" aria-checked="false">360p-350Kbps<span class="vjs-control-text"> </span></li><li class="vjs-menu-item amp-menu-item outline-enabled-control" tabindex="-1" role="menuitemcheckbox" aria-label="240p-90Kbps" aria-checked="false">240p-90Kbps<span class="vjs-control-text"> </span></li></ul></div></div></div></div></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="amp-player_component_575_description" aria-hidden="true" aria-label="Modal Window" role="dialog"><p class="vjs-modal-dialog-description vjs-offscreen" id="amp-player_component_575_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document" tabindex="0"></div></div><div class="vjs-caption-settings vjs-modal-overlay vjs-hidden" tabindex="-1" role="dialog" aria-labelledby="TTsettingsDialogLabel-amp-player_component_580" aria-describedby="TTsettingsDialogDescription-amp-player_component_580">
    <div role="document">
      <div role="heading" aria-level="1" id="TTsettingsDialogLabel-amp-player_component_580" class="vjs-control-text">Captions Settings Dialog</div>
      <div id="TTsettingsDialogDescription-amp-player_component_580" class="vjs-control-text">Beginning of dialog window. Escape will cancel and close the window.</div>
      <div class="vjs-tracksettings">
        <div class="vjs-tracksettings-colors">
          <fieldset class="vjs-fg-color vjs-tracksetting">
            <legend>Text</legend>
            <label class="vjs-label" for="captions-foreground-color-amp-player_component_580">Color</label>
            <select id="captions-foreground-color-amp-player_component_580">
              <option value="#FFF" selected="">White</option>
              <option value="#000">Black</option>
              <option value="#F00">Red</option>
              <option value="#0F0">Green</option>
              <option value="#00F">Blue</option>
              <option value="#FF0">Yellow</option>
              <option value="#F0F">Magenta</option>
              <option value="#0FF">Cyan</option>
            </select>
            <span class="vjs-text-opacity vjs-opacity">
             <label class="vjs-label" for="captions-foreground-opacity-amp-player_component_580">Opacity</label>
              <select id="captions-foreground-opacity-amp-player_component_580">
                <option value="1" selected="">Opaque</option>
                <option value="0.5">Semi-Opaque</option>
              </select>
            </span>
          </fieldset>
          <fieldset class="vjs-bg-color vjs-tracksetting">
            <legend>Background</legend>
            <label class="vjs-label" for="captions-background-color-amp-player_component_580">Color</label>
            <select id="captions-background-color-amp-player_component_580">
              <option value="#000" selected="">Black</option>
              <option value="#FFF">White</option>
              <option value="#F00">Red</option>
              <option value="#0F0">Green</option>
              <option value="#00F">Blue</option>
              <option value="#FF0">Yellow</option>
              <option value="#F0F">Magenta</option>
              <option value="#0FF">Cyan</option>
            </select>
            <span class="vjs-bg-opacity vjs-opacity">
              <label class="vjs-label" for="captions-background-opacity-amp-player_component_580">Opacity</label>
              <select id="captions-background-opacity-amp-player_component_580">
                <option value="1" selected="">Opaque</option>
                <option value="0.5">Semi-Transparent</option>
                <option value="0">Transparent</option>
              </select>
            </span>
          </fieldset>
          <fieldset class="window-color vjs-tracksetting">
            <legend>Window</legend>
            <label class="vjs-label" for="captions-window-color-amp-player_component_580">Color</label>
            <select id="captions-window-color-amp-player_component_580">
              <option value="#000" selected="">Black</option>
              <option value="#FFF">White</option>
              <option value="#F00">Red</option>
              <option value="#0F0">Green</option>
              <option value="#00F">Blue</option>
              <option value="#FF0">Yellow</option>
              <option value="#F0F">Magenta</option>
              <option value="#0FF">Cyan</option>
            </select>
            <span class="vjs-window-opacity vjs-opacity">
              <label class="vjs-label" for="captions-window-opacity-amp-player_component_580">Opacity</label>
              <select id="captions-window-opacity-amp-player_component_580">
                <option value="0" selected="">Transparent</option>
                <option value="0.5">Semi-Transparent</option>
                <option value="1">Opaque</option>
              </select>
            </span>
          </fieldset>
        </div> <!-- vjs-tracksettings-colors -->
        <div class="vjs-tracksettings-font">
          <div class="vjs-font-percent vjs-tracksetting">
            <label class="vjs-label" for="captions-font-size-amp-player_component_580">Font Size</label>
            <select id="captions-font-size-amp-player_component_580">
              <option value="0.50">50%</option>
              <option value="0.75">75%</option>
              <option value="1.00" selected="">100%</option>
              <option value="1.25">125%</option>
              <option value="1.50">150%</option>
              <option value="1.75">175%</option>
              <option value="2.00">200%</option>
              <option value="3.00">300%</option>
              <option value="4.00">400%</option>
            </select>
          </div>
          <div class="vjs-edge-style vjs-tracksetting">
            <label class="vjs-label" for="captions-edge-style-amp-player_component_580">Text Edge Style</label>
            <select id="captions-edge-style-amp-player_component_580">
              <option value="none" selected="">None</option>
              <option value="raised">Raised</option>
              <option value="depressed">Depressed</option>
              <option value="uniform">Uniform</option>
              <option value="dropshadow">Dropshadow</option>
            </select>
          </div>
          <div class="vjs-font-family vjs-tracksetting">
            <label class="vjs-label" for="captions-font-family-amp-player_component_580">Font Family</label>
            <select id="captions-font-family-amp-player_component_580">
              <option value="proportionalSansSerif" selected="">Proportional Sans-Serif</option>
              <option value="monospaceSansSerif">Monospace Sans-Serif</option>
              <option value="proportionalSerif">Proportional Serif</option>
              <option value="monospaceSerif">Monospace Serif</option>
              <option value="casual">Casual</option>
              <option value="script">Script</option>
              <option value="small-caps">Small Caps</option>
            </select>
          </div>
        </div> <!-- vjs-tracksettings-font -->
        <div class="vjs-tracksettings-controls">
          <button class="vjs-default-button">Defaults</button>
          <button class="vjs-done-button">Done</button>
        </div>
      </div> <!-- vjs-tracksettings -->
    </div> <!--  role="document" --></div><p class="vjs-screen-reader-text" id="player-use-for-screen-reader-alert-only0.26718764480721635" role="alert" aria-atomic="true" tabindex="-1"></p><div id="caption-settings-screen-reader" role="status" aria-live="polite" aria-atomic="true" style="width: 1px; height: 1px; margin: -1px; position: absolute;  border: 0; padding: 0px; overflow: hidden; clip: rect(0 0 0 0); clip-path: polygon(0px 0px, 0px 0px, 0px 0px); -webkit-clip-path: polygon(0px 0px, 0px 0px, 0px 0px); white-space: nowrap, opacity: 0; font-size: 0;">All settings have been reverted to their default states</div></div></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open"><style>
      div.grammarly-desktop-integration {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select:none;
        user-select:none;
      }

      div.grammarly-desktop-integration:before {
        content: attr(data-content);
      }
    </style><div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration" data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}"></div></template></grammarly-desktop-integration></html>